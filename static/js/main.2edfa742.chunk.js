(this["webpackJsonpexchange-rates"]=this["webpackJsonpexchange-rates"]||[]).push([[0],{1:function(e,t,a){e.exports={wrapper:"Table_wrapper__2iFqe","wrapper-table":"Table_wrapper-table__345lE",table:"Table_table__Wwcu3","table-row":"Table_table-row__ZxNk_","table-cell":"Table_table-cell__1xFp_","table-cell--head":"Table_table-cell--head__1r7L3"}},161:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),l=a(5),i=a(6),o=a(51),s=a.n(o),u=a(52),d=a.n(u),p=function(){return r.a.createElement("div",{className:d.a.header},"Exchange Rates by RUB")},b=a(28),f=a.n(b),h=a(53),m=a(31),E={apiKey:"3806d35e9bb2246cd9faee7808f829a36c837a5e59cf9672e42a308fc21628c5",fetch:function(e){function t(t,a,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t,a){return fetch(e,Object(m.a)(Object(m.a)({},t),{},{method:"GET"})).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e),{RUB:0}}))})),getRates:function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("https://min-api.cryptocompare.com/data/price?fsym=EUR&tsyms=RUB&api_key=".concat(this.apiKey));case 2:if(e.t0=e.sent.RUB,e.t0){e.next=5;break}e.t0=0;case 5:return e.t1=e.t0,e.next=8,this.fetch("https://min-api.cryptocompare.com/data/price?fsym=USD&tsyms=RUB&api_key=".concat(this.apiKey));case 8:if(e.t2=e.sent.RUB,e.t2){e.next=11;break}e.t2=0;case 11:return e.t3=e.t2,e.abrupt("return",{EUR:e.t1,USD:e.t3});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},_=a(1),U=a.n(_);function R(e){var t=new Date,a=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear(),c=t.getHours(),l=t.getMinutes(),i=t.getSeconds();return"time"===e?"".concat(c<10?"0".concat(c):c,":").concat(l<10?"0".concat(l):l,":").concat(i<10?"0".concat(i):i):"".concat(n,".").concat(a,".").concat(r," ").concat(c,":").concat(l,":").concat(i)}var v=a(29),g=a.n(v),S=Object(i.b)((function(e){return{rates:e.rates}}),(function(e){return{addRate:function(t){return e(function(e){return{type:"ADD_RATE",data:e}}(t))}}}))((function(e){var t=e.rates,a=e.addRate,c=Object(n.useCallback)((function(){return E.getRates().then((function(e){a({EUR:e.EUR.toFixed(2),USD:e.USD.toFixed(2),date:R("time")})})),setInterval((function(){E.getRates().then((function(e){a({EUR:e.EUR.toFixed(2),USD:e.USD.toFixed(2),date:R("time")})}))}),5e3)}),[a]);Object(n.useEffect)((function(){var e=c();return function(){clearInterval(e)}}),[c]);var l=Object(n.useMemo)((function(){return[].concat(t).reverse()}),[t]);return r.a.createElement("div",{className:U.a.wrapper},r.a.createElement("div",{className:U.a.table},r.a.createElement("div",{className:U.a["table-row"]},r.a.createElement("div",{className:g()(U.a["table-cell"],U.a["table-cell--head"])},"USD"),r.a.createElement("div",{className:g()(U.a["table-cell"],U.a["table-cell--head"])},"EUR"))),r.a.createElement("div",{className:U.a["wrapper-table"]},r.a.createElement("div",{className:U.a.table},l&&l.length>0&&l.map((function(e,t){return r.a.createElement("div",{key:t,className:U.a["table-row"]},r.a.createElement("div",{className:U.a["table-cell"]},e.USD," \u20bd"),r.a.createElement("div",{className:U.a["table-cell"]},e.EUR," \u20bd"))})))))})),w=a(54),D=a(55),x=a.n(D),y=Object(i.b)((function(e){return{rates:e.rates}}))((function(e){var t=e.rates,a=Object(n.useMemo)((function(){var e=[],a=[],n=[];return t.forEach((function(t){e.push(t.date),a.push(t.USD),n.push(t.EUR)})),{labels:e,dataUSD:a,dataEUR:n}}),[t]),c=a.labels,l=a.dataUSD,i=a.dataEUR;return r.a.createElement("div",{className:x.a.chart},r.a.createElement(w.Line,{data:{type:"line",labels:c,datasets:[{label:"USD",data:l,fill:!1,borderColor:["rgb(8 143 239 / 80%)"],borderWidth:3,pointRadius:0},{label:"EUR",data:i,fill:!1,borderColor:["rgb(251 69 145 / 80%)"],borderWidth:3,pointRadius:0}]},width:100,height:300,options:{maintainAspectRatio:!1}}))})),O=function(){return r.a.createElement("div",{className:s.a.App},r.a.createElement(p,null),r.a.createElement(S,null),r.a.createElement(y,null))},N=a(30),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_RATE":return e.length<30||e.shift(),[].concat(Object(N.a)(e),[t.data]);default:return e}},T=Object(l.b)({rates:j}),k=Object(l.c)(T,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Object(c.render)(r.a.createElement(i.a,{store:k},r.a.createElement(O,null)),document.getElementById("root"))},51:function(e,t,a){e.exports={App:"App_App__1CPuX"}},52:function(e,t,a){e.exports={header:"Header_header__iLG95"}},55:function(e,t,a){e.exports={chart:"Chart_chart__2eFP6"}},56:function(e,t,a){e.exports=a(161)}},[[56,1,2]]]);
//# sourceMappingURL=main.2edfa742.chunk.js.map