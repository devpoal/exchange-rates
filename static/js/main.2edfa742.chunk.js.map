{"version":3,"sources":["components/Table/Table.module.scss","components/Header/index.js","libs/api.js","libs/utils.js","components/Table/index.js","actions/index.js","components/Chart/index.js","components/App.js","reducers/rates.js","reducers/index.js","index.js","components/App.module.scss","components/Header/Header.module.scss","components/Chart/Chart.module.scss"],"names":["module","exports","Header","className","s","api","apiKey","fetch","url","options","type","method","then","response","json","data","catch","e","console","log","RUB","getRates","a","this","EUR","USD","getFullDate","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","h","getHours","m","getMinutes","getSeconds","connect","state","rates","dispatch","addRate","timeoutGetRatesData","useCallback","toFixed","date","setInterval","useEffect","interval","clearInterval","reverseRates","useMemo","concat","reverse","cx","length","map","item","index","key","labels","dataUSD","dataEUR","forEach","push","datasets","label","fill","borderColor","borderWidth","pointRadius","width","height","maintainAspectRatio","App","action","shift","combineReducers","store","createStore","rootReducer","window","__REDUX_DEVTOOLS_EXTENSION__","render","document","getElementById"],"mappings":"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","file":"static/js/main.2edfa742.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Table_wrapper__2iFqe\",\"wrapper-table\":\"Table_wrapper-table__345lE\",\"table\":\"Table_table__Wwcu3\",\"table-row\":\"Table_table-row__ZxNk_\",\"table-cell\":\"Table_table-cell__1xFp_\",\"table-cell--head\":\"Table_table-cell--head__1r7L3\"};","import React from 'react';\r\nimport s from './Header.module.scss';\r\n\r\nconst Header = () => (\r\n\t<div className={s['header']}>\r\n\t\tExchange Rates by RUB\r\n\t</div>\r\n);\r\n\r\nexport default Header;\r\n","const api = {\r\n\tapiKey: '3806d35e9bb2246cd9faee7808f829a36c837a5e59cf9672e42a308fc21628c5',\r\n\r\n\tfetch: (url, options, type) => {\r\n\t\treturn fetch(url, {\r\n\t\t\t...options,\r\n\t\t\tmethod: 'GET'\r\n\t\t}).then((response) => {\r\n\t\t\treturn response.json();\r\n\t\t}).then((data) => {\r\n\t\t\treturn data;\r\n\t\t}).catch(e => {\r\n\t\t\tconsole.log(e);\r\n\t\t\treturn {\r\n\t\t\t\tRUB: 0\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tgetRates: async function () {\r\n\t\treturn {\r\n\t\t\tEUR: (await this.fetch(`https://min-api.cryptocompare.com/data/price?fsym=EUR&tsyms=RUB&api_key=${this.apiKey}`)).RUB || 0,\r\n\t\t\tUSD: (await this.fetch(`https://min-api.cryptocompare.com/data/price?fsym=USD&tsyms=RUB&api_key=${this.apiKey}`)).RUB || 0\r\n\t\t};\r\n\t}\r\n};\r\n\r\nexport default api;","export function getFullDate(type) {\r\n\tconst\r\n\t\ttoday = new Date(),\r\n\t\tdd = String(today.getDate()).padStart(2, '0'),\r\n\t\tmm = String(today.getMonth() + 1).padStart(2, '0'),\r\n\t\tyyyy = today.getFullYear(),\r\n\t\th = today.getHours(),\r\n\t\tm = today.getMinutes(),\r\n\t\ts = today.getSeconds();\r\n\r\n\tif (type === 'time') {\r\n\t\treturn `${h < 10 ? `0${h}` : h}:${m < 10 ? `0${m}` : m}:${s < 10 ? `0${s}` : s}`;\r\n\t} else {\r\n\t\treturn `${mm}.${dd}.${yyyy} ${h}:${m}:${s}`;\r\n\t}\r\n}","import React, { useCallback, useEffect, useMemo } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport api from '../../libs/api';\r\nimport { addRate } from '../../actions';\r\nimport s from './Table.module.scss';\r\nimport { getFullDate } from '../../libs/utils';\r\nimport cx from 'classnames';\r\n\r\nconst Table = ({ rates, addRate }) => {\r\n\tconst timeoutGetRatesData = useCallback(() => {\r\n\t\tapi.getRates().then(response => {\r\n\t\t\taddRate({\r\n\t\t\t\tEUR: response.EUR.toFixed(2),\r\n\t\t\t\tUSD: response.USD.toFixed(2),\r\n\t\t\t\tdate: getFullDate('time')\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\treturn setInterval(() => {\r\n\t\t\tapi.getRates().then(response => {\r\n\t\t\t\taddRate({\r\n\t\t\t\t\tEUR: response.EUR.toFixed(2),\r\n\t\t\t\t\tUSD: response.USD.toFixed(2),\r\n\t\t\t\t\tdate: getFullDate('time')\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}, 5000);\r\n\t}, [addRate]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst interval = timeoutGetRatesData();\r\n\r\n\t\treturn () => {\r\n\t\t\tclearInterval(interval);\r\n\t\t}\r\n\t}, [timeoutGetRatesData]);\r\n\t\r\n\tconst reverseRates = useMemo(() => {\r\n\t\treturn [].concat(rates).reverse();\r\n\t}, [rates]);\r\n\t\r\n\treturn (\r\n\t\t<div className={s['wrapper']}>\r\n\t\t\t<div className={s['table']}>\r\n\t\t\t\t<div className={s['table-row']}>\r\n\t\t\t\t\t<div className={cx(s['table-cell'], s['table-cell--head'])}>USD</div>\r\n\t\t\t\t\t<div className={cx(s['table-cell'], s['table-cell--head'])}>EUR</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={s['wrapper-table']}>\r\n\t\t\t\t<div className={s['table']}>\r\n\t\t\t\t\t{reverseRates && reverseRates.length > 0 && reverseRates.map((item, index) => <div key={index} className={s['table-row']}>\r\n\t\t\t\t\t\t<div className={s['table-cell']}>{item.USD} ₽</div>\r\n\t\t\t\t\t\t<div className={s['table-cell']}>{item.EUR} ₽</div>\r\n\t\t\t\t\t</div>)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n\trates: state.rates\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\taddRate: data => dispatch(addRate(data))\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Table);\r\n","export const addRate = data => ({\n\ttype: 'ADD_RATE',\n\tdata\n});","import React, { useMemo } from 'react';\r\nimport { Line } from 'react-chartjs-2';\r\nimport { connect } from 'react-redux';\r\nimport s from './Chart.module.scss';\r\n\r\nconst Chart = ({ rates }) => {\r\n\tconst { labels, dataUSD, dataEUR } = useMemo(() => {\r\n\t\tconst labels = [], dataUSD = [], dataEUR = [];\r\n\r\n\t\trates.forEach(item => {\r\n\t\t\tlabels.push(item.date);\r\n\t\t\tdataUSD.push(item.USD);\r\n\t\t\tdataEUR.push(item.EUR);\r\n\t\t});\r\n\r\n\t\treturn { labels, dataUSD, dataEUR };\r\n\t}, [rates]);\r\n\r\n\treturn (\r\n\t\t<div className={s['chart']}>\r\n\t\t\t<Line\r\n\t\t\t\tdata={{\r\n\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\tlabels: labels,\r\n\t\t\t\t\tdatasets: [{\r\n\t\t\t\t\t\tlabel: 'USD',\r\n\t\t\t\t\t\tdata: dataUSD,\r\n\t\t\t\t\t\tfill: false,\r\n\t\t\t\t\t\tborderColor: [\r\n\t\t\t\t\t\t\t'rgb(8 143 239 / 80%)',\r\n\t\t\t\t\t\t], \r\n\t\t\t\t\t\tborderWidth: 3,\r\n\t\t\t\t\t\tpointRadius: 0\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tlabel: 'EUR',\r\n\t\t\t\t\t\tdata: dataEUR,\r\n\t\t\t\t\t\tfill: false,\r\n\t\t\t\t\t\tborderColor: [\r\n\t\t\t\t\t\t\t'rgb(251 69 145 / 80%)'\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tborderWidth: 3,\r\n\t\t\t\t\t\tpointRadius: 0\r\n\t\t\t\t\t}]\r\n\t\t\t\t}}\r\n\t\t\t\twidth={100}\r\n\t\t\t\theight={300}\r\n\t\t\t\toptions={{ maintainAspectRatio: false }}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n\trates: state.rates\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps\r\n)(Chart);","import React from 'react';\nimport s from './App.module.scss';\nimport Header from './Header';\nimport Table from './Table';\nimport Chart from './Chart';\n\nconst App = () => (\n\t<div className={s['App']}>\n\t\t<Header />\n\t\t<Table />\n\t\t<Chart />\n\t</div>\n);\n\nexport default App;\n","const rates = (state = [], action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'ADD_RATE':\r\n\t\t\tif (state.length < 30) {\r\n\t\t\t\treturn [\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\taction.data\r\n\t\t\t\t];\r\n\t\t\t} else {\r\n\t\t\t\tstate.shift();\r\n\r\n\t\t\t\treturn [\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\taction.data\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport default rates;\r\n","import { combineReducers } from 'redux';\nimport rates from './rates';\n\nexport default combineReducers({\n\trates\n});\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport App from './components/App';\nimport rootReducer from './reducers';\n\nconst store = createStore(rootReducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\nrender(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1CPuX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__iLG95\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chart\":\"Chart_chart__2eFP6\"};"],"sourceRoot":""}